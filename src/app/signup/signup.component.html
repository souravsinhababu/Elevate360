<div class="form-container">
  <h2>Sign Up</h2>

  <form #signupForm="ngForm" (ngSubmit)="onSignUpSubmit()">
    <label for="role">Select Role:</label>
    <select id="role" [(ngModel)]="role" name="role" (change)="roleChanged()" required>
      <option value="">Select Role</option>
      <option value="trainer">Trainer</option>
      <option value="trainee">Trainee</option>
      <option value="admin">Admin</option>
    </select>
    <div *ngIf="signupForm.submitted && !role" class="error">Role is required</div>

    <!-- Common Form Fields -->
    <label for="username">Username:</label>
    <input type="text" id="username" [(ngModel)]="username" name="username" required minlength="4" #usernameField="ngModel">
    <div *ngIf="usernameField.invalid && usernameField.touched" class="error">Username is required and must be at least 4 characters</div>
    
    <label for="email">Email:</label>
    <input type="email" id="email" [(ngModel)]="email" name="email" required email #emailField="ngModel">
    <div *ngIf="emailField.invalid && emailField.touched" class="error">Valid email is required</div>

    <label for="password">Password:</label>
    <input type="password" id="password" [(ngModel)]="password" name="password" required minlength="6" #passwordField="ngModel">
    <div *ngIf="passwordField.invalid && passwordField.touched" class="error">Password is required and must be at least 6 characters</div>

    <label for="mobile">Mobile Number:</label>
    <input type="text" id="mobile" [(ngModel)]="mobile" name="mobile" required pattern="^\d{10}$" #mobileField="ngModel">
    <div *ngIf="mobileField.invalid && mobileField.touched" class="error">Mobile number must be 10 digits</div>

    <!-- Trainer-specific field -->
    <div *ngIf="role === 'trainer'">
      <label for="specialization">Specialization:</label>
      <input type="text" id="specialization" [(ngModel)]="specialization" name="specialization" required #specializationField="ngModel">
      <div *ngIf="specializationField.invalid && specializationField.touched" class="error">Specialization is required</div>
    </div>

    <!-- Trainee-specific fields -->
    <div *ngIf="role === 'trainee'">
      <label for="designation">Designation:</label>
      <input type="text" id="designation" [(ngModel)]="designation" name="designation" required #designationField="ngModel">
      <div *ngIf="designationField.invalid && designationField.touched" class="error">Designation is required</div>
    </div>

    <button type="submit" [disabled]="signupForm.invalid">Submit</button>

    <!-- Text for existing users to navigate to login -->
    <div class="already-user">
      <span>Already a user?</span>
      <button routerLink="/login" class="g1">Login</button>
    </div>
  </form>
</div>
