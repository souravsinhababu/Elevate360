<div class="Welcome">
  <p>Welcome, Admin!</p>
  <button (click)="logout()">Logout</button>
</div>

<div class="dashboard-container">
  <h2>Welcome to the Admin Dashboard</h2>

  <!-- Search Container -->
  <div class="search-container">
    <label for="search">Search: </label>
    <input type="text" [(ngModel)]="searchQuery" (ngModelChange)="search()" id="search" />
  </div>

  <!-- Filter Container -->
  <div class="filter-container">
    <label for="role">Filter by Role: </label>
    <select id="role" [(ngModel)]="selectedRole" (change)="filterByRole()">
      <option value="All">All</option>
      <option value="Trainer">Trainer</option>
      <option value="Trainee">Trainee</option>
    </select>
  </div>

  <!-- List of Trainers -->
  <div *ngIf="selectedRole === 'Trainer' || selectedRole === 'All'">
    <h3>List of Trainers</h3>
    <div *ngIf="trainers.length > 0">
      <table class="data-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>ID</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let trainer of trainers">
            <td>{{ trainer.username }}</td>
            <td>{{ trainer.email }}</td>
            <td>{{ trainer.id }}</td>
            <td>
              <button (click)="editTrainer(trainer)">Edit</button>
              <button (click)="deleteTrainer(trainer.id)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
      <app-edit-trainer *ngIf="selectedTrainer" 
      [trainer]="selectedTrainer"
       (updateTrainer)="updateTrainerInDashboard($event)">
      </app-edit-trainer>
    </div>
    <div *ngIf="trainers.length === 0">No trainers found.</div>
  </div>

  <!-- List of Trainees -->
  <div *ngIf="selectedRole === 'Trainee' || selectedRole === 'All'">
    <h3>List of Trainees</h3>
    <div *ngIf="trainees.length > 0">
      <table class="data-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Trainer Name</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let trainee of trainees">
            <td>{{ trainee.username }}</td>
            <td>{{ trainee.email }}</td>
            <td>{{ trainee.trainer_name }}</td>
            <td>
              
              <button (click)="editTrainee(trainee)">Edit</button>
              <button (click)="deleteTrainee(trainee.id)">Delete</button>
              <button (click)="assignTrainer(trainee)">Assign Trainer</button>
            </td>
          </tr>
        </tbody>
      </table>
      <app-edit-trainee *ngIf="isEditingTrainee"
                        [trainee]="selectedTrainee"
                        (updateTrainee)="handleUpdatedTrainee($event)">
      </app-edit-trainee>
 
    </div>
    <div *ngIf="trainees.length === 0">No trainees found.</div>
  </div>

  <!-- Modal for Assigning Trainer -->
  <div *ngIf="isAssigningTrainer" class="assign-trainer-modal">
    <h4>Assign Trainer to {{ selectedTrainee?.username }}</h4>
    <label for="trainer">Select Trainer:</label>
    <select id="trainer" [(ngModel)]="selectedTrainerId">
      <option *ngFor="let trainer of trainers" [value]="trainer.id">{{ trainer.username }}</option>
    </select>
    <button (click)="assignTrainerToTrainee()">Assign</button>
    <button (click)="cancelAssign()">Cancel</button>
  </div>
</div>

<div class="action-buttons">
  <button (click)="addTrainer()">Add Trainer</button>
  <button (click)="addTrainee()">Add Trainee</button>
  </div>
   